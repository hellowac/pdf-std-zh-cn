
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../s4/">
      
      
        <link rel="next" href="../s6/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.7">
    
    
      
        <title>11.5 软面罩 - PDF STD</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.8608ea7d.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#115-软面罩" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
          <aside class="md-banner md-banner--warning">
            <div class="md-banner__inner md-grid md-typeset">
              
你当前浏览的版本已不是最新版本，
<a href="../../../..">
    <strong>点击这里</strong>
</a>查看最新版本的文档

            </div>
            <script>var el=document.querySelector("[data-md-component=outdated]"),base=new URL("../../.."),outdated=__md_get("__outdated",sessionStorage,base);!0===outdated&&el&&(el.hidden=!1)</script>
          </aside>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../.." title="PDF STD" class="md-header__button md-logo" aria-label="PDF STD" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            PDF STD
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              11.5 软面罩
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../" class="md-tabs__link">
          
  
    
  
  首页

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../c7/" class="md-tabs__link">
          
  
    
  
  7语法

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../c8/" class="md-tabs__link">
          
  
    
  
  8图形绘制

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../c9/" class="md-tabs__link">
          
  
    
  
  9文本

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../c10/" class="md-tabs__link">
          
  
    
  
  10渲染

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
    
  
  11透明度

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../c12/" class="md-tabs__link">
          
  
    
  
  12互动功能

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../c13/" class="md-tabs__link">
          
  
    
  
  13多媒体功能

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../c14/" class="md-tabs__link">
          
  
    
  
  14文档交换

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../a1/" class="md-tabs__link">
          
  
    
  
  附录

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../bibliography/" class="md-tabs__link">
        
  
    
  
  参考文献

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="PDF STD" class="md-nav__button md-logo" aria-label="PDF STD" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    PDF STD
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    首页
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../c7/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    7语法
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../c8/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    8图形绘制
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../c9/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    9文本
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../c10/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    10渲染
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
        
        
      
      
    
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    11透明度
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6" id="__nav_6_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            11透明度
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../s1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    11.1 概述
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../s2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    11.2 透明度概述
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../s3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    11.3 基本合成计算
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../s4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    11.4 透明度组
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    11.5 软面罩
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    11.5 软面罩
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1151-概述" class="md-nav__link">
    <span class="md-ellipsis">
      11.5.1 概述
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1152-从-group-alpha-导出-soft-mask" class="md-nav__link">
    <span class="md-ellipsis">
      11.5.2 从 Group Alpha 导出 Soft Mask
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1153-根据组光度导出软蒙版" class="md-nav__link">
    <span class="md-ellipsis">
      11.5.3 根据组光度导出软蒙版
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../s6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    11.6 指定 PDF 中的透明度
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../s7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    11.7 色彩空间和渲染问题
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../c12/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    12互动功能
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../c13/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    13多媒体功能
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../c14/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    14文档交换
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../a1/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    附录
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../bibliography/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    参考文献
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1151-概述" class="md-nav__link">
    <span class="md-ellipsis">
      11.5.1 概述
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1152-从-group-alpha-导出-soft-mask" class="md-nav__link">
    <span class="md-ellipsis">
      11.5.2 从 Group Alpha 导出 Soft Mask
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1153-根据组光度导出软蒙版" class="md-nav__link">
    <span class="md-ellipsis">
      11.5.3 根据组光度导出软蒙版
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="115-软面罩">11.5 软面罩<a class="headerlink" href="#115-软面罩" title="Permanent link">&para;</a></h1>
<p><strong>Soft Masks</strong></p>
<h2 id="1151-概述">11.5.1 概述<a class="headerlink" href="#1151-概述" title="Permanent link">&para;</a></h2>
<p><strong>General</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">中文</label><label for="__tabbed_1_2">英文</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>如前面的小节所述，在合成对象时使用的形状和不透明度值可能包含称为蒙版形状（<span class="arithmatex">\(f_m\)</span>）和蒙版不透明度（<span class="arithmatex">\(q_m\)</span>）的组成部分，这些值可以从 PDF 文件中独立于对象的一个源提供。这样一个独立源被称为<em>软蒙版</em>，它定义的值可能在页面的不同点上有所不同。</p>
<div class="admonition note">
<p class="admonition-title">注 1</p>
<p>“软”这个词强调，在给定点的蒙版值不仅限于 0.0 或 1.0，还可以取中间分数值。这种蒙版通常是提供位置相关不透明度值的唯一方法，因为基本对象本身没有固有不透明度。</p>
</div>
<div class="admonition note">
<p class="admonition-title">注 2</p>
<p>用作形状值源的蒙版也被称为<em>软裁剪</em>，这是类比于不透明成像模型中的“硬”裁剪路径（见第 <a href="../../c8/s5/#854-剪切路径操作符">8.5.4</a> 节）。软裁剪是硬裁剪的推广：硬裁剪可以被表示为一个软裁剪，在裁剪路径内部形状值为 1.0，在外部为 0.0。在硬裁剪路径内部，源对象的颜色替换背景；在外部，背景保持不变地显示出来。相比之下，在软裁剪中，可以在对象和其背景之间创建一个渐变过渡，就像在晕映效果中那样。</p>
</div>
<p>蒙版可以通过创建一个透明度组并将对象绘制到其中来定义，从而以通常的方式定义颜色、形状和不透明度。然后，可以使用以下小节描述的两种方法之一，从得到的组中导出蒙版 。</p>
</div>
<div class="tabbed-block">
<p>As stated in earlier sub-clauses, the shape and opacity values used in compositing an object may include components called the mask shape (<span class="arithmatex">\(f_m\)</span>) and mask opacity (<span class="arithmatex">\(q_m\)</span>), which may be supplied in a PDF file from a source independent of the object. Such an independent source, called a <em>soft mask</em>, defines values that may vary across different points on the page.</p>
<div class="admonition note">
<p class="admonition-title">NOTE 1</p>
<p>The word <em>soft</em> emphasizes that the mask value at a given point is not limited to just 0.0 or 1.0 but can take on intermediate fractional values as well. Such a mask is typically the only means of providing position-dependent opacity values, since elementary objects do not have intrinsic opacity of their own.</p>
</div>
<div class="admonition note">
<p class="admonition-title">NOTE 2</p>
<p>A mask used as a source of shape values is also called a <em>soft clip</em>, by analogy with the “hard” clipping path of the opaque imaging model (see Section <a href="../../c8/s5/#854-剪切路径操作符">8.5.4</a>). The soft clip is a generalization of the hard clip: a hard clip can be represented as a soft clip having shape values of 1.0 inside and 0.0 outside the clipping path. Everywhere inside a hard clipping path, the source object’s colour replaces the backdrop; everywhere outside, the backdrop shows through unchanged. With a soft clip, by contrast, a gradual transition can be created between an object and its backdrop, as in a vignette.</p>
</div>
<p>A mask may be defined by creating a transparency group and painting objects into it, thereby defining colour, shape, and opacity in the usual way. The resulting group may then be used to derive the mask in either of two ways, as described in the following sub-clauses.</p>
</div>
</div>
</div>
<h2 id="1152-从-group-alpha-导出-soft-mask">11.5.2 从 Group Alpha 导出 Soft Mask<a class="headerlink" href="#1152-从-group-alpha-导出-soft-mask" title="Permanent link">&para;</a></h2>
<p><strong>Deriving a Soft Mask from Group Alpha</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">中文</label><label for="__tabbed_2_2">英文</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>在定义软蒙版的第一种方法中，首先应使用常规公式计算透明度组 G 的颜色、形状和不透明度：</p>
<p><span class="arithmatex">\(〈 C, f, α 〉 = \text{合成} ( C_0 , α_0 , G )\)</span></p>
<p>其中 <span class="arithmatex">\(C_0\)</span> 和 <span class="arithmatex">\(α_0\)</span> 表示一个任意的背景，其值不影响最终结果。C、f 和 α 的计算结果分别是该组的颜色、形状和不透明度（已排除背景的影响）。</p>
<p>然后，每个点的蒙版值将从该组的不透明度中得出。不透明度值将通过单独指定的传递函数进行处理，从而可以对蒙版效果进行自定义。</p>
<div class="admonition note">
<p class="admonition-title">注</p>
<p>由于在这种情况下不使用组的颜色，因此无需计算它 。</p>
</div>
</div>
<div class="tabbed-block">
<p>In the first method of defining a soft mask, the colour, shape, and opacity of a transparency group G shall be first computed by the usual formula</p>
<p><span class="arithmatex">\(〈 C, f, α 〉 = \text{Composite} ( C_0 , α_0 , G )\)</span></p>
<p>where <span class="arithmatex">\(C_0\)</span> and <span class="arithmatex">\(α_0\)</span> represent an arbitrary backdrop whose value does not contribute to the eventual result. The
C, f, and α results shall be the group’s colour, shape, and alpha, respectively, with the backdrop factored out.</p>
<p>The mask value at each point shall then be derived from the alpha of the group. The alpha value shall be
passed through a separately specified transfer function, allowing the masking effect to be customized.</p>
<div class="admonition note">
<p class="admonition-title">NOTE</p>
<p>Since the group’s colour is not used in this case, there is no need to compute it.</p>
</div>
</div>
</div>
</div>
<h2 id="1153-根据组光度导出软蒙版">11.5.3 根据组光度导出软蒙版<a class="headerlink" href="#1153-根据组光度导出软蒙版" title="Permanent link">&para;</a></h2>
<p><strong>Deriving a Soft Mask from Group Luminosity</strong></p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:2"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><input id="__tabbed_3_2" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">中文</label><label for="__tabbed_3_2">英文</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>从透明度组派生软蒙版的第二种方法应从将该组与指定颜色的完全不透明背景合成开始。然后，任何给定点的蒙版值应定义为所得颜色的亮度。</p>
<div class="admonition note">
<p class="admonition-title">注 1</p>
<p>这允许从使用普通绘制操作符绘制的任意图稿的形状和颜色派生蒙版。</p>
</div>
<p>用于从组 <em>G</em> 创建蒙版的颜色 C 应由以下公式定义：</p>
<p><span class="arithmatex">\(\begin{align} 
    \left \langle C_g, f_g, \alpha _g \right \rangle &amp;= \text{合成}(C_0, 1, G) \\
    C &amp;= (1 - \alpha _g) \times C_0 + \alpha _g \times C_g
\end{align}\)</span></p>
<p>其中 <span class="arithmatex">\(C_0\)</span> 是选定的背景颜色。</p>
<p>G 可以是任意类型的组——隔离或非隔离、挖空或非挖空——每种情况都会对 C 结果产生不同的效果。然后应根据组的颜色空间，通过以下方式之一将颜色 C 转换为亮度：</p>
<p>• 对于基于 CIE 的空间，转换到 CIE 1931 <em>XYZ</em> 空间并使用 <em>Y</em> 分量作为亮度。这会产生一个色彩学上正确的亮度。</p>
<div class="admonition note">
<p class="admonition-title">注 2</p>
<p>在 PDF <strong>CalRGB</strong> 空间的情况下，公式为：</p>
<p><span class="arithmatex">\(Y = Y_{A} \times A^{G_R} + Y_B \times B^{G_G} + Y_C \times C^G\)</span></p>
<p>使用颜色空间字典的 <strong>Gamma</strong> 和 <strong>Matrix</strong> 条目的分量（见 “<a href="../../c8/s6/#865-基于-cie-的色彩空间">基于 CIE 的色彩空间</a>”中的 <a href="../../c8/s6/#table64">表 64</a>）。类似的计算适用于其他基于 CIE 的色彩空间。</p>
</div>
<p>• 对于设备颜色空间，通过实现定义的方式将颜色转换为 <strong>DeviceGray</strong> ，并使用得到的灰度值作为亮度，不进行伽马或其他颜色校正。</p>
<div class="admonition note">
<p class="admonition-title">注 3</p>
<p>这种方法并不声称色彩学上正确；它只是提供了一种数值上简单的方法来生成连续色调的蒙版值。以下是从 <strong>DeviceRGB</strong> 和 <strong>DeviceCMYK</strong> 转换的公式：</p>
<p><span class="arithmatex">\(\begin{align} 
    Y = 0.30 &amp;\times R + 0.59 \times G + 0.11 \times B \\
    Y = 0.30 &amp;\times (1 - C) \times (1 - K) \\
    &amp; + 0.59 \times (1-M)\times (1-K) \\
    &amp; + 0.11 \times (1-Y)\times (1-K)
\end{align}\)</span></p>
</div>
<p>在此转换之后，结果应通过单独指定的传递函数，允许对蒙版效果进行自定义。</p>
<div class="admonition note">
<p class="admonition-title">注 4</p>
<p>最有可能有用的背景颜色是黑色，它会导致组形状之外的任何区域在结果蒙版中的亮度值为零。如果将组的内容视为正蒙版，这将产生与形状外部点相关的预期结果 。</p>
</div>
</div>
<div class="tabbed-block">
<p>The second method of deriving a soft mask from a transparency group shall begin by compositing the group with a fully opaque backdrop of a specified colour. The mask value at any given point shall then be defined to be the luminosity of the resulting colour.</p>
<div class="admonition note">
<p class="admonition-title">NOTE 1</p>
<p>This allows the mask to be derived from the shape and colour of an arbitrary piece of artwork drawn with ordinary painting operators.</p>
</div>
<p>The colour C used to create the mask from a group <em>G</em> shall be defined by</p>
<p><span class="arithmatex">\(\begin{align} 
  \left \langle C_g, f_g, \alpha _g \right \rangle &amp;= \text{Composite}(C_0, 1, G) \\
  C &amp;= (1 - \alpha _g) \times C_0 + \alpha _g \times C_g
\end{align}\)</span></p>
<p>where <span class="arithmatex">\(C_0\)</span> is the selected backdrop colour.</p>
<p>G may be any kind of group—isolated or not, knockout or not—producing various effects on the C result in each case. The colour C shall then be converted to luminosity in one of the following ways, depending on the group’s colour space:</p>
<ul>
<li>For CIE-based spaces, convert to the CIE 1931 <em>XYZ</em> space and use the <em>Y</em> component as the luminosity. This produces a colourimetrically correct luminosity.</li>
</ul>
<div class="admonition note">
<p class="admonition-title">NOTE 2</p>
<p>In the case of a PDF <strong>CalRGB</strong> space, the formula is</p>
<p><span class="arithmatex">\(Y = Y_{A} \times A^{G_R} + Y_B \times B^{G_G} + Y_C \times C^G\)</span></p>
<p>using components of the <strong>Gamma</strong> and <strong>Matrix</strong> entries of the colour space dictionary (see <a href="../../c8/s6/#table64">Table 64</a> in “<a href="../../c8/s6/#865-基于-cie-的色彩空间">CIE-Based Colour Spaces</a>”). An analogous computation applies to other CIE-based colour spaces.</p>
</div>
<ul>
<li>For device colour spaces, convert the colour to <strong>DeviceGray</strong> by implementation-defined means and use the resulting gray value as the luminosity, with no compensation for gamma or other colour calibration.</li>
</ul>
<div class="admonition note">
<p class="admonition-title">NOTE 3</p>
<p>This method makes no pretence of colourimetric correctness; it merely provides a numerically simple means to produce continuous-tone mask values. The following are formulas for converting from <strong>DeviceRGB</strong> and <strong>DeviceCMYK</strong>, respectively:</p>
<p><span class="arithmatex">\(\begin{align} 
  Y = 0.30 &amp;\times R + 0.59 \times G + 0.11 \times B \\
  Y = 0.30 &amp;\times (1 - C) \times (1 - K) \\
   &amp; + 0.59 \times (1-M)\times (1-K) \\
   &amp; + 0.11 \times (1-Y)\times (1-K)
\end{align}\)</span></p>
</div>
<p>Following this conversion, the result shall be passed through a separately specified transfer function, allowing the masking effect to be customized.</p>
<div class="admonition note">
<p class="admonition-title">NOTE 4</p>
<p>The backdrop colour most likely to be useful is black, which causes any areas outside the group’s shape to have zero luminosity values in the resulting mask. If the contents of the group are viewed as a positive mask, this produces the results that would be expected with respect to points outside the shape.</p>
</div>
</div>
</div>
</div>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="最后更新">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">2025年3月6日</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="创建日期">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">2025年1月21日</span>
  </span>

    
    
    
  </aside>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["header.autohide", "navigation.top", "navigation.tabs", "navigation.tabs.sticky", "navigation.path", "content.tabs.link", "content.code.copy", "content.tooltips", "navigation.indexes", "navigation.prune", "navigation.instant"], "search": "../../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
        <script src="../../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>